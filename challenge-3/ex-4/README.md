# Пешо белия

## ВЪВЕДЕНИЕ

Стиснатия бизнесмен, Цецо Пешовия решил да отвори казино, за да финансира прищевките на грозната си жена. Плана за бързо опаричване, включвал създаване на евтини версии на популярни хазартни игри, които да привличат ниско интелигентни слабо квалифицирани и нищо неподозиращи сески бабаити, които да пръскат парите на родителите си в опит да сбъднат мечтите си. 

Главия героя в тази схема била ротативката на парите, предоставяща собствена версия на играта 21 - известна в средите на мъстните алкохолици като Пешо белия. Правилата били прости, ( като играчите ) - трябва просто да събереш 42 и да обереш казиното. 

Гошо Наглия, провален хакер от Долно Нанагорнище, решил да използва уменията си натрупани от онлайн уроци по системна администрация и да гепи кинтите. Нашия герой, платил под масата на лела Цецка чистачката, която му предоставила детайлни инструкции и алгоритмична характеристика, на машината. Гошо решил да направи портативна версия на програмата на Java върху която да тества, своя хакерски софтуер. Помогнете на Жорката да реализира злия си план и да открие пътя към материалния просперитет. 

## ПРАВИЛА НА ИГРАТА

Играта **Пешо белия** се игра от двама играчи, които ще наричаме - **ИГРАЧ** и **КАЗИНО**. 

Играта различава 15 вида карти, които имат буквена и числова нотация. Важно е че всяка една карта носи някаква стойност в себе си. Всички карти са дадени в таблицата:

 №  | име на карта   | стойност                                         |
----|----------------|--------------------------------------------------|
1   | A              | 0                                                |
2   | B              | 1                                                |
3   | C              | 2                                                |
4   | D              | 3                                                |
5   | E              | 4                                                |
6   | F              | 5                                                |
7   | G              | удвоява положително **предишната** стойност      |
8   | H              | удвоява положително **следващата** стойност      |
9   | I              | -1                                               |
10  | J              | -2                                               |
11  | K              | -3                                               |
12  | L              | -4                                               |
13  | M              | -5                                               |
14  | N              | удвоява отрицателно **предишната** стойност      |
15  | O              | удвоява отрицателно **следващата** стойност      |

### Количество карти
Играта се играе с **ТЕСТЕ КАРТИ** състоящо се от 90 карти - 6 броя от всяка една от (15 - те вида карти) - всички карти в играта са позиционирани на случаен принцип в **ТЕСТЕТО КАРТИ**

Играта се състои от 2 етапа:
- Предварителен етап
- Разиграване


### Жизнени точки
**ИГРАЧА** и **КАЗИНОТО** имат жизнени точки - по 10 броя, тези жизнени точки могат да бъзат използвани. 

### Край на играта
Играта приключва в момента в който:
- (1) **ИГРАЧА** събете **42 точки**
- (2)  **КАЗИНОТО** загуби всичките си жизнени точки
- (3)  **ИГРАЧА** загуби всичките си жизнени точки
- (4)  **ИГРАЧА** събете **60 точки**
- (5)  поради някаква причина свършат картите, в тестето

От посочените сценарии, за **победа** се считат (1) и (2) а за **загуба** (3) и (4).

## ПРАВИЛА ЗА ПРЕДВАРИТЕЛЕН ЕТАП
Преди началото на играта **ИГРАЧА** избира 5 уникални карти (**без повторение**) от списъка с 15 карти, който е отразен в началната таблица. Тези 5 карти, ще наричаме **ПЕРСОНАЛНО ТЕСТЕ**. 

**Важно**
Избраните карти се изваждат от тестето. Тоест в играта могат да влязат **85 карти**, останали карти. 

## ПРАВИЛА ЗА РАЗИГРАВАНЕ

**КАЗИНОТО** дава на **ИГРАЧА**, 5 карти от тестето. **ИГРАЧА** има възможност да направи едно от четири действия:
- да вземе карта, от предоставените 5 карти и да я добави към **купчината си**.
- да вземе карта от **ПЕРСОНАЛНОТО СИ ТЕСТЕ** и да я добави към **купчината си**.
- да атакува **КАЗИНОТО**.
- да не направи нито едно от двете действия, което автоматично води към следващия ход.

**Важно**
Играча няма право да извършва, последователно едно и също действие. 

**Пример**
В рамките на първия ход **не си харесвате** нито една от картите на **КАЗИНОТО** 
- решавате да вземете карта от **ПЕРСОНАЛНОТО ТЕСТЕ** и да я добавите към купчината.
**то тогава**
В рамките на втория ход - **НЯМАТЕ ПРАВО** да извършите действието, което сте направили в предишния ход (избор на карта от вашето тесте). Тоест трябва: 
- или да се откажете от предоставената ви ръка 
- или да изберете една от 5 те карти.
- или да атакувате **КАЗИНОТО**
- или да се откажете от хода си

**Важно**
След приключване на хода, всички неизбрани карти, които **КАЗИНОТО** e предоставило за избор, биват унищожени. 

**Важно**
След края на всеки ход, КАЗИНОТО хвърля 12 стенен зар:
- ако стойността на зара е по-голяма от стойността на предишното хвърляне на **КАЗИНОТО** , то КАЗИНОТО атакува **ИГРАЧА** (вижте правилата за **ЗАЩИТА**).
- ако стойността на зара е по-малка от стойността на предишното хвърляне на **КАЗИНОТО**, то тази стойност се запазва в хронологията, на хвърляния и се преминава към следващия ход. 
- ако стойността на зара е равна на стойността от предишното хвърляне на **КАЗИНОТО**, то тази стойност се **разделя на две** и се добавя към хронологията на хвърлянията.
- ако стойността на зара е равна на стойността на предишните две хвърляния на **КАЗИНОТО**, то тази стойност се умножава по две и се добавя в хронологията на хвърлянията.
- ако стойността на зара е равна на най-голямата хвърлена до момента стойност, то резултата се приравнява до 0 и се добавя в хронологията на хвърлянията.
- ако стойността на зара е два пъти по-малка от сбора на всички хвърляния, до момента, то **КАЗИНОТО**, губи 1 жизнена точка и стойността на зара се добавя към хронологията на хвърлянията.
- асо стойността на зара е по-голяма от средно аритметичната стойностт на всички хвърляния до момента. **КАЗИНОТО** губи 2 жизнени точки и добавя хвърлянето към хронологията на хвърлянията и се преминава към следващия ход.


## ПРАВИЛА ЗА КАЛКУЛИРАНЕ НА ТОЧКИ
Всеки път когато вземем карта по време на разиграването, добавяме тази карта към купчинката, като сумираме натрупаните точки. Целта ни е да получим **резултат равен на 42**.

Обърнете внимание, на картите които удвояват следващата или предишната стойност. Става дума за картата която сме добавили към купчинката ни. 

**Пример (пологжително удвояване)**
Ако в предишния ход сме добавили карта със **стойност 5**, към купчинката ни, а в настоящия ход добавим карта **положително удвояване на предишната стойност** - то автоматично актива на купчинката ни е със стойност 10.

**Пример (пологжително удвояване)**
Ако в предишния ход сме добавили карта със **стойност 5**, към купчинката ни, а в настоящия ход добавим карта **отрицателно удвояване на предишната стойност** - то автоматично актива на купчинката ни е със **стойност -10**. или иначе казано - взимаме стойността удвояваме я и я изваждаме от натрупаните точки до момента.

**Особени правила при удвояване на точки**
Ако сте избрали карта която удвоява точките в следващия ход, но в рамките на следващия ход не изберете карта от предоставените от **КАЗИНОТО** или от **ПЕРСОНАЛНОТО СИ ТЕСТЕ** то избраната карта губи своя ефект.


### ПРАВИЛА ЗА АТАКА
При деклариране на аката, от страна на **ИГРАЧА** към **КАЗИНОТО**. 

КАЗИНОТО генерира набор от (**10 + броя на ходовете до момента**) числа по следните правила:
- всяко четно число е случайно генерирано в интервала от 1 до 10.
- всяко нечетно число базирано на стойностите на **ЛИЧНОТО ТЕСТЕ** на **ИГРАЧА** (без значение дали картите са вече използвани или са все още в тестето). Взимаме **стойността** на картата и я умножаваме по **позицията** на картата като започваме от **1** след което събираме, този резултат с номера на **текущия ход (разиграваме)** и събираме стойността с произволно генерирано число в интервала от 1 до 50.

ИГРАЧА генерира набор от  (**10 + броя на ходовете до момента**) числа по следните правила:
- първото число в редицата е най-голямото число от редицата на **КАЗИНОТО**
- всяко число на позиция кратна на 2, трябва да е по-голямо от предишното, с произволно число
- всяко число на позиция кратна на 3, трябва да е четно
- всяко число на позиция кратна на 5, трябва да е нечетно

Числата от редицата на **КАЗИНОТО** се събират с числата от редицата на **ИГРАЧА** на базата на тяхната позиция и се сортират във възходящ ред. 
- Събират се всички числа на четна позиция - ще наричаме резултата **АТАКА НА ИГРАЧА**
- Събитар се всички числа на нечетна позиция - ще наричаме резултата **АТАКА НА КАЗИНОТО**

Ако **АТАКАТА НА ИГРАЧА** е по-голяма от **АТАКАТА НА КАЗИНОТО** , то играча нанася щети равни на един шест стенен зар, който трябва да бъде хвърлен непосредствено след атаката. 

Ако **АТАКАТА НА КАЗИНОТО** е по-голяма от **АТАКАТА НА ИГРАЧА**, то атаката е неуспешна и хода автоматично приключва. 


### ПРАВИЛА ЗА ЗАЩИТА
Защитата се извършва само и единствено от страна на **ИГРАЧА** (**КАЗИНОТО**, не може да се защитава от вашите атаки)
при декларирана атака от страна на **КАЗИНОТО**. Защитата се активира автоматично и се случва по следния алгоритъм. 


Взимат се **всички останали в играта карти**, от тестето с карти. От тях се избират **до 10 не повтарящи се карти** (можем да имаме като резултат само една карта, това не е проблем).
- откриваме картата с най-голям номер
- откриваме картата с най-малък номер

**Забележка** - ако в играта е останала само една карта, то тя е автоматично с най-голям и най-малък номер.

Събираме двете числа:
- ако резултата е четно число атаката на КАЗИНОТО е успешна;
- ако резултата е нечетно число атаката на КАЗИНОТО е неуспешна.

Ако атаката на **КАЗИНОТО** е успешна - то **КАЗИНОТО** хвърля **6 стенен зар** и изважда резултата от текущите жизнени точки на играча. 